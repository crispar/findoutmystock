# 기능 명세서

## 1. 개요

본 문서는 Naver 금융 웹사이트에서 주식 데이터를 스크래핑하고 분석하여 잠재적인 투자 기회를 식별하는 시스템의 기능적 요구사항을 기술합니다. 이 시스템은 KOSPI 및 KOSDAQ 시장의 시가총액 상위 주식을 대상으로 하며, 현재 주가가 52주 최저가에 근접한 종목을 찾는 데 중점을 둡니다.

## 2. 주요 기능

### 2.1. 시장 선택
- 사용자는 분석할 시장을 KOSPI 또는 KOSDAQ 중에서 선택할 수 있습니다.
- 각 시장에 대한 분석은 별도의 스크립트(`examples-rename.ipynb` for KOSPI, `examples-rename-kosdaq.ipynb` for KOSDAQ)를 통해 수행됩니다.

### 2.2. 데이터 수집
- **시가총액 상위 종목 스크래핑**: Naver 금융에서 지정된 시장의 시가총액 상위 N개 종목의 목록을 자동으로 가져옵니다.
- **개별 종목 정보 수집**: 각 종목에 대해 다음 정보를 수집합니다.
    - 발행 주식 수
    - 유동 주식 비율
    - 회사명
- **과거 시세 데이터 수집**: 각 종목의 지난 1년간의 일일 시세 데이터(시가, 고가, 저가, 종가)를 수집합니다.

### 2.3. 데이터 분석 및 계산
- **52주 최저가 계산**: 수집된 과거 데이터를 기반으로 각 종목의 52주 최저가를 식별합니다.
- **주가 갭(Gap) 계산**: 현재 주가(또는 전일 종가)와 52주 최저가 간의 차이를 계산합니다.
- **갭 비율(Gap Percentage) 계산**: 52주 최저가 대비 현재 주가가 얼마나 상승했는지를 백분율로 계산하여, 주가가 최저가에서 얼마나 벗어났는지 평가합니다.

### 2.4. 결과 리포팅
- 분석된 데이터는 Pandas DataFrame으로 정리됩니다.
- 최종 결과는 다음 항목을 포함하는 표 형식으로 제공됩니다.
    - `Name`: 회사명
    - `Min_52_Date`: 52주 최저가를 기록한 날짜
    - `Min_52`: 52주 최저가
    - `Yesterday_price`: 전일 종가
    - `Gap`: 전일 종가와 52주 최저가의 차이
    - `Gap_Percentage`: 갭 비율
    - `Today_price`: 당일 종가
    - `Volume`: 시가총액 순위
- 결과 테이블은 'Gap_Percentage'를 기준으로 오름차순으로 정렬되어, 52주 최저가에 가장 근접한 종목을 쉽게 식별할 수 있도록 합니다.

## 3. 사용자 관점의 시스템 목적

이 시스템의 주된 목적은 가치 투자 전략을 지원하는 것입니다. 즉, 재무적으로 안정적인(시가총액 상위) 기업들 중에서 일시적인 시장 변동이나 과소평가로 인해 주가가 하락한 종목을 발굴하는 데 도움을 줍니다. 사용자는 이 시스템을 통해 복잡한 데이터 수집 및 계산 과정을 자동화하고, 잠재적인 매수 시점을 포착하는 데 유용한 정량적 지표를 얻을 수 있습니다.